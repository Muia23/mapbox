<!DOCTYPE html>
<html>
    <head>
        <title>{{title}}</title>
        <script src='https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.js'></script>
        <link href='https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.css' rel='stylesheet' />
        <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.min.js'></script>
        <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.css' type='text/css' />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    </head>
    <body>
        <div class="container-fluid" style="position: relative; padding: 0;">
            <div class="container" style="position: absolute; margin:10px;background: #dfdfdfdc; border-radius: 20px; height: 200px; width: 250px; z-index: 1;">
                <h3>Navigation Bar</h3>
                <hr>
            </div>
            <div id="map" style="height: 100vh;width:100%;"></div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
        <script>
            mapboxgl.accessToken = 'pk.eyJ1IjoibXVpYS0yMyIsImEiOiJjbDVjM3h3OWIwM3d3M2NwamY1Ym1nanY1In0.eQUFoLvVQoVb_G1UwHVjww';

            const map = new mapboxgl.Map({
                container: 'map', // container ID
                style: 'mapbox://styles/mapbox/streets-v11', // style URL
                center:[39.2083, -6.7924],
                zoom: 9 // starting zoom
            });

            map.on('style.load', () => {
                map.setFog({}); // Set the default atmosphere style
            });
            map.on('load', () => {
                const layers = map.getStyle().layers;
                const labelLayerId = layers.find(
                    (layer) => layer.type === 'symbol' && layer.layout['text-field']
                ).id;
                
                map.addLayer({
                    'id': 'add-3d-buildings',
                    'source': 'composite',
                    'source-layer': 'building',
                    'filter': ['==', 'extrude', 'true'],
                    'type': 'fill-extrusion',
                    'minzoom': 15,
                    'paint': {
                    'fill-extrusion-color': '#aaa',
                    'fill-extrusion-height': [
                    'interpolate',
                    ['linear'],
                    ['zoom'],
                    15,
                    0,
                    15.05,
                    ['get', 'height']
                    ],
                    'fill-extrusion-base': [
                    'interpolate',
                    ['linear'],
                    ['zoom'],
                    15,
                    0,
                    15.05,
                    ['get', 'min_height']
                    ],
                    'fill-extrusion-opacity': 0.6
                    }
                },
                labelLayerId
                );

                
                map.addSource('riskData', {
                    'type': 'geojson',
                    'data': {
                        'type': 'Feature',
                        'geometry': {
                            'type': 'Polygon',
                            "coordinates": [
                                [
                                    [39.24822515,-6.79740224],
                                    [39.2480774,-6.79745423],
                                    [39.24795985,-6.79750418],
                                    [39.247857,-6.79754826],
                                    [39.24765424,-6.79760409],
                                    [39.24742209,-6.79762466],
                                    [39.24706653,-6.79768637],
                                    [39.24675798,-6.79778335],
                                    [39.24652583,-6.79785387],
                                    [39.24636714,-6.79790089],
                                    [39.24616144,-6.79798611],
                                    [39.2460439,-6.79806839],
                                    [39.24586759,-6.79818006],
                                    [39.24573535,-6.79825352],
                                    [39.24540329,-6.79839163],
                                    [39.2452211,-6.7984122],
                                    [39.24507711,-6.79839457],
                                    [39.24502575,-6.79841306],
                                    [39.24499674,-6.7984235],
                                    [39.24499595,-6.79842379],
                                    [39.24498027,-6.7983959],
                                    [39.24496561,-6.7983783],
                                    [39.24491283,-6.79834018],
                                    [39.2448835,-6.79830793],
                                    [39.24485418,-6.79825514],
                                    [39.24483365,-6.79823462],
                                    [39.24475155,-6.79816424],
                                    [39.24467237,-6.79810266],
                                    [39.244602,-6.79806454],
                                    [39.24451403,-6.79808213],
                                    [39.2445137,
                                    -6.79808085],
                                    [
                                    39.24447408,
                                    -6.79813261
                                    ],
                                    [
                                    39.2444204,
                                    -6.79816073
                                    ],
                                    [
                                    39.24435394,
                                    -6.79815817
                                    ],
                                    [
                                    39.24431304,
                                    -6.79815817
                                    ],
                                    [
                                    39.24422102,
                                    -6.79811983
                                    ],
                                    [
                                    39.24415201,
                                    -6.79809682
                                    ],
                                    [
                                    39.24408728,
                                    -6.79807525
                                    ],
                                    [
                                    39.24408299,
                                    -6.79807382
                                    ],
                                    [
                                    39.24401398,
                                    -6.79806871
                                    ],
                                    [
                                    39.24391429,
                                    -6.7980457
                                    ],
                                    [
                                    39.24383761,
                                    -6.79805081
                                    ],
                                    [
                                    39.24374559,
                                    -6.79806615
                                    ],
                                    [
                                    39.24355887,
                                    -6.79807127
                                    ],
                                    [
                                    39.2435002,
                                    -6.79806359
                                    ],
                                    [
                                    39.24346441,
                                    -6.79807638
                                    ],
                                    [
                                    39.24339511,
                                    -6.79809103
                                    ],
                                    [
                                    39.24326351,
                                    -6.79809372
                                    ],
                                    [
                                    39.24314938,
                                    -6.79810763
                                    ],
                                    [
                                    39.24297402,
                                    -6.79816052
                                    ],
                                    [
                                    39.24294069,
                                    -6.79817098
                                    ],
                                    [
                                    39.24293974,
                                    -6.79817128
                                    ],
                                    [
                                    39.24283206,
                                    -6.79820506
                                    ],
                                    [
                                    39.24279668,
                                    -6.79824044
                                    ],
                                    [
                                    39.24277918,
                                    -6.79825794
                                    ],
                                    [
                                    39.2427285,
                                    -6.79825785
                                    ],
                                    [
                                    39.2427036,
                                    -6.79825781
                                    ],
                                    [
                                    39.24263226,
                                    -6.79827168
                                    ],
                                    [
                                    39.2425704,
                                    -6.79827024
                                    ],
                                    [
                                    39.24254705,
                                    -6.7982697
                                    ],
                                    [
                                    39.24248958,
                                    -6.79825186
                                    ],
                                    [
                                    39.24243806,
                                    -6.79823799
                                    ],
                                    [
                                    39.24237266,
                                    -6.79823403
                                    ],
                                    [
                                    39.24230132,
                                    -6.79823403
                                    ],
                                    [
                                    39.24221611,
                                    -6.79822214
                                    ],
                                    [
                                    39.24214199,
                                    -6.79818531
                                    ],
                                    [
                                    39.24206749,
                                    -6.79811314
                                    ],
                                    [
                                    39.24201993,
                                    -6.79809333
                                    ],
                                    [
                                    39.24197831,
                                    -6.79807946
                                    ],
                                    [
                                    39.24189904,
                                    -6.7980418
                                    ],
                                    [
                                    39.24183365,
                                    -6.79800613
                                    ],
                                    [
                                    39.24176429,
                                    -6.7979665
                                    ],
                                    [
                                    39.24166719,
                                    -6.79786147
                                    ],
                                    [
                                    39.24154036,
                                    -6.79788327
                                    ],
                                    [
                                    39.24146704,
                                    -6.79790507
                                    ],
                                    [
                                    39.24138975,
                                    -6.79792687
                                    ],
                                    [
                                    39.24132238,
                                    -6.79793677
                                    ],
                                    [
                                    39.24126293,
                                    -6.79793876
                                    ],
                                    [
                                    39.24125358,
                                    -6.79793772
                                    ],
                                    [
                                    39.24119159,
                                    -6.79793083
                                    ],
                                    [
                                    39.24112619,
                                    -6.7979229
                                    ],
                                    [
                                    39.2410826,
                                    -6.79791894
                                    ],
                                    [
                                    39.24091238,
                                    -6.79801152
                                    ],
                                    [
                                    39.2407998,
                                    -6.79807078
                                    ],
                                    [
                                    39.2407198,
                                    -6.79810337
                                    ],
                                    [
                                    39.24065758,
                                    -6.79811226
                                    ],
                                    [
                                    39.24058943,
                                    -6.79811818
                                    ],
                                    [
                                    39.24056277,
                                    -6.798133
                                    ],
                                    [
                                    39.2405124,
                                    -6.79814485
                                    ],
                                    [
                                    39.24040331,
                                    -6.79815996
                                    ],
                                    [
                                    39.24037738,
                                    -6.79815379
                                    ],
                                    [
                                    39.24037731,
                                    -6.79815548
                                    ],
                                    [
                                    39.240263,
                                    -6.79816345
                                    ],
                                    [
                                    39.24017528,
                                    -6.79815016
                                    ],
                                    [
                                    39.2400849,
                                    -6.79814751
                                    ],
                                    [
                                    39.2400211,
                                    -6.7981794
                                    ],
                                    [
                                    39.24000515,
                                    -6.79818472
                                    ],
                                    [
                                    39.23995464,
                                    -6.7981927
                                    ],
                                    [
                                    39.23986692,
                                    -6.79818472
                                    ],
                                    [
                                    39.23982704,
                                    -6.79812092
                                    ],
                                    [
                                    39.23981565,
                                    -6.79811552
                                    ],
                                    [
                                    39.23977654,
                                    -6.798097
                                    ],
                                    [
                                    39.23971008,
                                    -6.79806244
                                    ],
                                    [
                                    39.23961704,
                                    -6.79802257
                                    ],
                                    [
                                    39.2395878,
                                    -6.79798003
                                    ],
                                    [
                                    39.23952014,
                                    -6.79794125
                                    ],
                                    [
                                    39.23947523,
                                    -6.79790233
                                    ],
                                    [
                                    39.23947471,
                                    -6.79790188
                                    ],
                                    [
                                    39.23947151,
                                    -6.79788865
                                    ],
                                    [
                                    39.23946651,
                                    -6.79786804
                                    ],
                                    [
                                    39.23947243,
                                    -6.79778212
                                    ],
                                    [
                                    39.23947079,
                                    -6.79777883
                                    ],
                                    [
                                    39.23947008,
                                    -6.79777742
                                    ],
                                    [
                                    39.23944281,
                                    -6.79772286
                                    ],
                                    [
                                    39.23942799,
                                    -6.79767842
                                    ],
                                    [
                                    39.23942503,
                                    -6.79765176
                                    ],
                                    [
                                    39.23944281,
                                    -6.79760435
                                    ],
                                    [
                                    39.2394517,
                                    -6.7975688
                                    ],
                                    [
                                    39.23941022,
                                    -6.79754805
                                    ],
                                    [
                                    39.23937466,
                                    -6.79752435
                                    ],
                                    [
                                    39.23937341,
                                    -6.79752396
                                    ],
                                    [
                                    39.23929072,
                                    -6.79749776
                                    ],
                                    [
                                    39.2392253,
                                    -6.79748519
                                    ],
                                    [
                                    39.23917246,
                                    -6.79746254
                                    ],
                                    [
                                    39.23912717,
                                    -6.79744493
                                    ],
                                    [
                                    39.2390844,
                                    -6.79746506
                                    ],
                                    [
                                    39.23901144,
                                    -6.79746506
                                    ],
                                    [
                                    39.23901127,
                                    -6.79746498
                                    ],
                                    [
                                    39.2389737,
                                    -6.79744744
                                    ],
                                    [
                                    39.23890073,
                                    -6.79739964
                                    ],
                                    [
                                    39.2388177,
                                    -6.79735184
                                    ],
                                    [
                                    39.23872977,
                                    -6.79731144
                                    ],
                                    [
                                    39.23872461,
                                    -6.79730906
                                    ],
                                    [
                                    39.23866297,
                                    -6.79728487
                                    ],
                                    [
                                    39.23858682,
                                    -6.79727037
                                    ],
                                    [
                                    39.23845992,
                                    -6.79725587
                                    ],
                                    [
                                    39.23833301,
                                    -6.79722323
                                    ],
                                    [
                                    39.23828739,
                                    -6.79721563
                                    ],
                                    [
                                    39.23826775,
                                    -6.79721236
                                    ],
                                    [
                                    39.23811909,
                                    -6.79723774
                                    ],
                                    [
                                    39.23798494,
                                    -6.79731026
                                    ],
                                    [
                                    39.23791558,
                                    -6.79728771
                                    ],
                                    [
                                    39.23784224,
                                    -6.79724307
                                    ],
                                    [
                                    39.23780398,
                                    -6.7972367
                                    ],
                                    [
                                    39.23774021,
                                    -6.7972367
                                    ],
                                    [
                                    39.23767473,
                                    -6.7972558
                                    ],
                                    [
                                    39.23767383,
                                    -6.79725435
                                    ],
                                    [
                                    39.23767369,
                                    -6.79725414
                                    ],
                                    [
                                    39.23767343,
                                    -6.79725447
                                    ],
                                    [
                                    39.2376717,
                                    -6.79725668
                                    ],
                                    [
                                    39.23761674,
                                    -6.79732689
                                    ],
                                    [
                                    39.2375921,
                                    -6.79735837
                                    ],
                                    [
                                    39.23750743,
                                    -6.79739048
                                    ],
                                    [
                                    39.23743444,
                                    -6.79740508
                                    ],
                                    [
                                    39.23738773,
                                    -6.797408
                                    ],
                                    [
                                    39.23726511,
                                    -6.79737005
                                    ],
                                    [
                                    39.23713373,
                                    -6.79729414
                                    ],
                                    [
                                    39.23698483,
                                    -6.79720655
                                    ],
                                    [
                                    39.23687097,
                                    -6.79713357
                                    ],
                                    [
                                    39.23672207,
                                    -6.79707809
                                    ],
                                    [
                                    39.23658486,
                                    -6.79710729
                                    ],
                                    [
                                    39.23652938,
                                    -6.79712773
                                    ],
                                    [
                                    39.23641844,
                                    -6.79712481
                                    ],
                                    [
                                    39.23629874,
                                    -6.79707518
                                    ],
                                    [
                                    39.23617612,
                                    -6.79706058
                                    ],
                                    [
                                    39.23609105,
                                    -6.79706058
                                    ],
                                    [
                                    39.2360827,
                                    -6.79706058
                                    ],
                                    [
                                    39.23606778,
                                    -6.79706535
                                    ],
                                    [
                                    39.23600971,
                                    -6.79708393
                                    ],
                                    [
                                    39.23599803,
                                    -6.79715108
                                    ],
                                    [
                                    39.23596299,
                                    -6.79720364
                                    ],
                                    [
                                    39.23590752,
                                    -6.79728246
                                    ],
                                    [
                                    39.23578278,
                                    -6.79732888
                                    ],
                                    [
                                    39.23578198,
                                    -6.79732917
                                    ],
                                    [
                                    39.23571775,
                                    -6.79739632
                                    ],
                                    [
                                    39.23563967,
                                    -6.79748278
                                    ],
                                    [
                                    39.23563197,
                                    -6.79742738
                                    ],
                                    [
                                    39.23559903,
                                    -6.79729307
                                    ],
                                    [
                                    39.23558889,
                                    -6.79719931
                                    ],
                                    [
                                    39.23558889,
                                    -6.7970878
                                    ],
                                    [
                                    39.23558382,
                                    -6.79696363
                                    ],
                                    [
                                    39.23556608,
                                    -6.79675837
                                    ],
                                    [
                                    39.23555874,
                                    -6.79667545
                                    ],
                                    [
                                    39.2355601,
                                    -6.79664892
                                    ],
                                    [
                                    39.23555718,
                                    -6.79653506
                                    ],
                                    [
                                    39.23555718,
                                    -6.79644456
                                    ],
                                    [
                                    39.23552779,
                                    -6.79628359
                                    ],
                                    [
                                    39.23552536,
                                    -6.79627032
                                    ],
                                    [
                                    39.23548427,
                                    -6.79600858
                                    ],
                                    [
                                    39.23547181,
                                    -6.79592925
                                    ],
                                    [
                                    39.23549154,
                                    -6.79570375
                                    ],
                                    [
                                    39.23549685,
                                    -6.79564009
                                    ],
                                    [
                                    39.23550281,
                                    -6.79556845
                                    ],
                                    [
                                    39.23553382,
                                    -6.79540497
                                    ],
                                    [
                                    39.23555275,
                                    -6.79526539
                                    ],
                                    [
                                    39.23555311,
                                    -6.79526273
                                    ],
                                    [
                                    39.23555637,
                                    -6.79523866
                                    ],
                                    [
                                    39.23570013,
                                    -6.79524148
                                    ],
                                    [
                                    39.23577341,
                                    -6.79525276
                                    ],
                                    [
                                    39.23583824,
                                    -6.79526403
                                    ],
                                    [
                                    39.2358467,
                                    -6.79524148
                                    ],
                                    [
                                    39.23587207,
                                    -6.79518229
                                    ],
                                    [
                                    39.23588991,
                                    -6.79514661
                                    ],
                                    [
                                    39.23590026,
                                    -6.79512591
                                    ],
                                    [
                                    39.23592045,
                                    -6.79508328
                                    ],
                                    [
                                    39.23592562,
                                    -6.79507236
                                    ],
                                    [
                                    39.23595381,
                                    -6.79500753
                                    ],
                                    [
                                    39.23597354,
                                    -6.79496806
                                    ],
                                    [
                                    39.23601864,
                                    -6.79495115
                                    ],
                                    [
                                    39.2360581,
                                    -6.79492296
                                    ],
                                    [
                                    39.23618495,
                                    -6.7948976
                                    ],
                                    [
                                    39.23626951,
                                    -6.7948976
                                    ],
                                    [
                                    39.23638508,
                                    -6.79486095
                                    ],
                                    [
                                    39.2363738,
                                    -6.79476793
                                    ],
                                    [
                                    39.23635504,
                                    -6.79461245
                                    ],
                                    [
                                    39.23635418,
                                    -6.79460538
                                    ],
                                    [
                                    39.23636707,
                                    -6.79460499
                                    ],
                                    [
                                    39.2363627,
                                    -6.79459258
                                    ],
                                    [
                                    39.23643267,
                                    -6.79449631
                                    ],
                                    [
                                    39.23647354,
                                    -6.7944496
                                    ],
                                    [
                                    39.23657864,
                                    -6.79435033
                                    ],
                                    [
                                    39.2366273,
                                    -6.79430557
                                    ],
                                    [
                                    39.23667207,
                                    -6.79424134
                                    ],
                                    [
                                    39.23669542,
                                    -6.79417517
                                    ],
                                    [
                                    39.23672462,
                                    -6.7941051
                                    ],
                                    [
                                    39.23675101,
                                    -6.79404666
                                    ],
                                    [
                                    39.23675186,
                                    -6.79404476
                                    ],
                                    [
                                    39.23685641,
                                    -6.7939286
                                    ],
                                    [
                                    39.23687448,
                                    -6.79390852
                                    ],
                                    [
                                    39.23697185,
                                    -6.79392591
                                    ],
                                    [
                                    39.23700558,
                                    -6.79393193
                                    ],
                                    [
                                    39.23700257,
                                    -6.79385055
                                    ],
                                    [
                                    39.23700257,
                                    -6.79378137
                                    ],
                                    [
                                    39.23700426,
                                    -6.79370206
                                    ],
                                    [
                                    39.23700385,
                                    -6.79368253
                                    ],
                                    [
                                    39.2370079,
                                    -6.79361972
                                    ],
                                    [
                                    39.23700356,
                                    -6.7935828
                                    ],
                                    [
                                    39.23699704,
                                    -6.7934916
                                    ],
                                    [
                                    39.23700356,
                                    -6.79340908
                                    ],
                                    [
                                    39.23701441,
                                    -6.79328748
                                    ],
                                    [
                                    39.23701441,
                                    -6.79315285
                                    ],
                                    [
                                    39.2370231,
                                    -6.79303776
                                    ],
                                    [
                                    39.23705133,
                                    -6.79292702
                                    ],
                                    [
                                    39.23707521,
                                    -6.79280759
                                    ],
                                    [
                                    39.23710344,
                                    -6.79271421
                                    ],
                                    [
                                    39.23713819,
                                    -6.79260998
                                    ],
                                    [
                                    39.23717888,
                                    -6.79256278
                                    ],
                                    [
                                    39.23719247,
                                    -6.79254701
                                    ],
                                    [
                                    39.23721419,
                                    -6.79252313
                                    ],
                                    [
                                    39.2372207,
                                    -6.79245798
                                    ],
                                    [
                                    39.23724025,
                                    -6.79235592
                                    ],
                                    [
                                    39.23726847,
                                    -6.79222998
                                    ],
                                    [
                                    39.23730781,
                                    -6.79210825
                                    ],
                                    [
                                    39.23736313,
                                    -6.79190065
                                    ],
                                    [
                                    39.23732493,
                                    -6.79181306
                                    ],
                                    [
                                    39.23729567,
                                    -6.79180359
                                    ],
                                    [
                                    39.23729513,
                                    -6.79180341
                                    ],
                                    [
                                    39.23729204,
                                    -6.79180058
                                    ],
                                    [
                                    39.23727183,
                                    -6.79179588
                                    ],
                                    [
                                    39.23714036,
                                    -6.79176528
                                    ],
                                    [
                                    39.23712845,
                                    -6.79165951
                                    ],
                                    [
                                    39.23711028,
                                    -6.79149807
                                    ],
                                    [
                                    39.23712733,
                                    -6.79141568
                                    ],
                                    [
                                    39.23713167,
                                    -6.79125933
                                    ],
                                    [
                                    39.23712733,
                                    -6.79109213
                                    ],
                                    [
                                    39.23712367,
                                    -6.7909731
                                    ],
                                    [
                                    39.2371236,
                                    -6.79097099
                                    ],
                                    [
                                    39.23712299,
                                    -6.79095098
                                    ],
                                    [
                                    39.23713384,
                                    -6.79087498
                                    ],
                                    [
                                    39.23713384,
                                    -6.79075338
                                    ],
                                    [
                                    39.23714904,
                                    -6.79057749
                                    ],
                                    [
                                    39.23714687,
                                    -6.79043418
                                    ],
                                    [
                                    39.23714546,
                                    -6.79038053
                                    ],
                                    [
                                    39.23714253,
                                    -6.79026915
                                    ],
                                    [
                                    39.23714036,
                                    -6.79013017
                                    ],
                                    [
                                    39.23713671,
                                    -6.790039
                                    ],
                                    [
                                    39.23713602,
                                    -6.7900216
                                    ],
                                    [
                                    39.23713384,
                                    -6.78988697
                                    ],
                                    [
                                    39.23713384,
                                    -6.78976536
                                    ],
                                    [
                                    39.23712407,
                                    -6.78971868
                                    ],
                                    [
                                    39.2371143,
                                    -6.78967199
                                    ],
                                    [
                                    39.23709476,
                                    -6.7896025
                                    ],
                                    [
                                    39.23708173,
                                    -6.78952216
                                    ],
                                    [
                                    39.23707739,
                                    -6.78949936
                                    ],
                                    [
                                    39.23707304,
                                    -6.78947656
                                    ],
                                    [
                                    39.23732059,
                                    -6.78936414
                                    ],
                                    [
                                    39.23745527,
                                    -6.78932672
                                    ],
                                    [
                                    39.2376498,
                                    -6.7893155
                                    ],
                                    [
                                    39.23770419,
                                    -6.78932003
                                    ],
                                    [
                                    39.23778448,
                                    -6.78932672
                                    ],
                                    [
                                    39.23796591,
                                    -6.78935502
                                    ],
                                    [
                                    39.23801657,
                                    -6.78936292
                                    ],
                                    [
                                    39.23819226,
                                    -6.78939032
                                    ],
                                    [
                                    39.23840333,
                                    -6.78940472
                                    ],
                                    [
                                    39.23850793,
                                    -6.78944281
                                    ],
                                    [
                                    39.23860004,
                                    -6.78947637
                                    ],
                                    [
                                    39.23864493,
                                    -6.78949133
                                    ],
                                    [
                                    39.23875343,
                                    -6.78956241
                                    ],
                                    [
                                    39.23888811,
                                    -6.78966716
                                    ],
                                    [
                                    39.23890941,
                                    -6.78969411
                                    ],
                                    [
                                    39.23898065,
                                    -6.78978421
                                    ],
                                    [
                                    39.2390153,
                                    -6.78982803
                                    ],
                                    [
                                    39.23918365,
                                    -6.78996645
                                    ],
                                    [
                                    39.23926089,
                                    -6.78996928
                                    ],
                                    [
                                    39.23936573,
                                    -6.78992735
                                    ],
                                    [
                                    39.2393898,
                                    -6.78991772
                                    ],
                                    [
                                    39.23949475,
                                    -6.78985829
                                    ],
                                    [
                                    39.23954264,
                                    -6.78983117
                                    ],
                                    [
                                    39.23965866,
                                    -6.78979434
                                    ],
                                    [
                                    39.23972746,
                                    -6.78978187
                                    ],
                                    [
                                    39.23981721,
                                    -6.78973265
                                    ],
                                    [
                                    39.23985014,
                                    -6.78970658
                                    ],
                                    [
                                    39.23986131,
                                    -6.78970127
                                    ],
                                    [
                                    39.23988437,
                                    -6.78967948
                                    ],
                                    [
                                    39.23995618,
                                    -6.78962263
                                    ],
                                    [
                                    39.2399805,
                                    -6.78959959
                                    ],
                                    [
                                    39.24006619,
                                    -6.78951841
                                    ],
                                    [
                                    39.2400789,
                                    -6.78947695
                                    ],
                                    [
                                    39.24009073,
                                    -6.7894636
                                    ],
                                    [
                                    39.24013098,
                                    -6.78930442
                                    ],
                                    [
                                    39.24013116,
                                    -6.78929906
                                    ],
                                    [
                                    39.24017621,
                                    -6.78911888
                                    ],
                                    [
                                    39.24017486,
                                    -6.78911786
                                    ],
                                    [
                                    39.24018221,
                                    -6.78910316
                                    ],
                                    [
                                    39.24025173,
                                    -6.78902265
                                    ],
                                    [
                                    39.24029925,
                                    -6.78899098
                                    ],
                                    [
                                    39.24037308,
                                    -6.78893648
                                    ],
                                    [
                                    39.24047441,
                                    -6.78886989
                                    ],
                                    [
                                    39.24060469,
                                    -6.78879462
                                    ],
                                    [
                                    39.24062828,
                                    -6.78877003
                                    ],
                                    [
                                    39.24069134,
                                    -6.78875802
                                    ],
                                    [
                                    39.24079343,
                                    -6.788737
                                    ],
                                    [
                                    39.24084447,
                                    -6.78877903
                                    ],
                                    [
                                    39.24094055,
                                    -6.7888541
                                    ],
                                    [
                                    39.2409946,
                                    -6.78895619
                                    ],
                                    [
                                    39.24109969,
                                    -6.78902525
                                    ],
                                    [
                                    39.24123481,
                                    -6.78903726
                                    ],
                                    [
                                    39.24137894,
                                    -6.78902225
                                    ],
                                    [
                                    39.24145689,
                                    -6.7889907
                                    ],
                                    [
                                    39.24150505,
                                    -6.7889712
                                    ],
                                    [
                                    39.24161915,
                                    -6.78893517
                                    ],
                                    [
                                    39.24169422,
                                    -6.78890214
                                    ],
                                    [
                                    39.24175127,
                                    -6.78888112
                                    ],
                                    [
                                    39.2419074,
                                    -6.78902225
                                    ],
                                    [
                                    39.24200049,
                                    -6.78913935
                                    ],
                                    [
                                    39.24204252,
                                    -6.78918439
                                    ],
                                    [
                                    39.24217764,
                                    -6.78934653
                                    ],
                                    [
                                    39.24222418,
                                    -6.78937956
                                    ],
                                    [
                                    39.24227072,
                                    -6.78941259
                                    ],
                                    [
                                    39.24237882,
                                    -6.78955972
                                    ],
                                    [
                                    39.24241785,
                                    -6.78967082
                                    ],
                                    [
                                    39.24245689,
                                    -6.78975189
                                    ],
                                    [
                                    39.24246884,
                                    -6.78980567
                                    ],
                                    [
                                    39.2424749,
                                    -6.78983296
                                    ],
                                    [
                                    39.24251694,
                                    -6.789884
                                    ],
                                    [
                                    39.24261002,
                                    -6.78994706
                                    ],
                                    [
                                    39.24271511,
                                    -6.78997709
                                    ],
                                    [
                                    39.24279618,
                                    -6.79001011
                                    ],
                                    [
                                    39.24284122,
                                    -6.79000711
                                    ],
                                    [
                                    39.24285059,
                                    -6.79000981
                                    ],
                                    [
                                    39.2429355,
                                    -6.79003424
                                    ],
                                    [
                                    39.2430088,
                                    -6.79006304
                                    ],
                                    [
                                    39.24308995,
                                    -6.79009183
                                    ],
                                    [
                                    39.24314754,
                                    -6.79011801
                                    ],
                                    [
                                    39.24322346,
                                    -6.79013895
                                    ],
                                    [
                                    39.24334126,
                                    -6.7901756
                                    ],
                                    [
                                    39.24345644,
                                    -6.79018869
                                    ],
                                    [
                                    39.24350617,
                                    -6.79019916
                                    ],
                                    [
                                    39.24351533,
                                    -6.79020003
                                    ],
                                    [
                                    39.24355877,
                                    -6.79020417
                                    ],
                                    [
                                    39.24356899,
                                    -6.79020711
                                    ],
                                    [
                                    39.24362921,
                                    -6.79022795
                                    ],
                                    [
                                    39.24371298,
                                    -6.79024104
                                    ],
                                    [
                                    39.24374951,
                                    -6.79025299
                                    ],
                                    [
                                    39.2438491,
                                    -6.79028554
                                    ],
                                    [
                                    39.24399569,
                                    -6.79031696
                                    ],
                                    [
                                    39.24410834,
                                    -6.79032684
                                    ],
                                    [
                                    39.24410821,
                                    -6.79032755
                                    ],
                                    [
                                    39.24411028,
                                    -6.79032701
                                    ],
                                    [
                                    39.24414491,
                                    -6.79033005
                                    ],
                                    [
                                    39.24423883,
                                    -6.79029329
                                    ],
                                    [
                                    39.24425274,
                                    -6.79028964
                                    ],
                                    [
                                    39.24425745,
                                    -6.79028601
                                    ],
                                    [
                                    39.24426532,
                                    -6.79028293
                                    ],
                                    [
                                    39.2443101,
                                    -6.79024532
                                    ],
                                    [
                                    39.24437832,
                                    -6.7901925
                                    ],
                                    [
                                    39.24444229,
                                    -6.79012853
                                    ],
                                    [
                                    39.24450626,
                                    -6.79010247
                                    ],
                                    [
                                    39.24457971,
                                    -6.79009773
                                    ],
                                    [
                                    39.24460263,
                                    -6.79011037
                                    ],
                                    [
                                    39.24464842,
                                    -6.79013564
                                    ],
                                    [
                                    39.24467467,
                                    -6.79016564
                                    ],
                                    [
                                    39.24469818,
                                    -6.7901925
                                    ],
                                    [
                                    39.2447432,
                                    -6.79026832
                                    ],
                                    [
                                    39.244774,
                                    -6.79031808
                                    ],
                                    [
                                    39.24482018,
                                    -6.79036887
                                    ],
                                    [
                                    39.24494183,
                                    -6.79043314
                                    ],
                                    [
                                    39.24508186,
                                    -6.79044692
                                    ],
                                    [
                                    39.24518286,
                                    -6.79048364
                                    ],
                                    [
                                    39.24523106,
                                    -6.79050889
                                    ],
                                    [
                                    39.24528786,
                                    -6.79053716
                                    ],
                                    [
                                    39.24530777,
                                    -6.79052863
                                    ],
                                    [
                                    39.24536749,
                                    -6.79050588
                                    ],
                                    [
                                    39.24543289,
                                    -6.7904746
                                    ],
                                    [
                                    39.2455239,
                                    -6.79042341
                                    ],
                                    [
                                    39.24563765,
                                    -6.79039497
                                    ],
                                    [
                                    39.24571728,
                                    -6.79041203
                                    ],
                                    [
                                    39.24579691,
                                    -6.7904291
                                    ],
                                    [
                                    39.24593626,
                                    -6.79050019
                                    ],
                                    [
                                    39.24603295,
                                    -6.79062248
                                    ],
                                    [
                                    39.24616661,
                                    -6.79073055
                                    ],
                                    [
                                    39.24632018,
                                    -6.7907533
                                    ],
                                    [
                                    39.24647659,
                                    -6.79083861
                                    ],
                                    [
                                    39.24658897,
                                    -6.79090379
                                    ],
                                    [
                                    39.24661878,
                                    -6.79092108
                                    ],
                                    [
                                    39.24671661,
                                    -6.79101509
                                    ],
                                    [
                                    39.24686903,
                                    -6.79111118
                                    ],
                                    [
                                    39.24727326,
                                    -6.79132323
                                    ],
                                    [
                                    39.24737326,
                                    -6.79140262
                                    ],
                                    [
                                    39.24747326,
                                    -6.79148201
                                    ],
                                    [
                                    39.24747527,
                                    -6.7914938
                                    ],
                                    [
                                    39.2474959,
                                    -6.79161504
                                    ],
                                    [
                                    39.24753836,
                                    -6.79175939
                                    ],
                                    [
                                    39.24756666,
                                    -6.79189524
                                    ],
                                    [
                                    39.2476036,
                                    -6.79205981
                                    ],
                                    [
                                    39.24762893,
                                    -6.79217262
                                    ],
                                    [
                                    39.24763742,
                                    -6.79221791
                                    ],
                                    [
                                    39.24773723,
                                    -6.79239611
                                    ],
                                    [
                                    39.24777077,
                                    -6.79244423
                                    ],
                                    [
                                    39.24783599,
                                    -6.79253781
                                    ],
                                    [
                                    39.24788003,
                                    -6.79262872
                                    ],
                                    [
                                    39.24792543,
                                    -6.79267206
                                    ],
                                    [
                                    39.24803481,
                                    -6.79281652
                                    ],
                                    [
                                    39.2481607,
                                    -6.79299401
                                    ],
                                    [
                                    39.24819785,
                                    -6.79327056
                                    ],
                                    [
                                    39.24817102,
                                    -6.79342947
                                    ],
                                    [
                                    39.24811324,
                                    -6.79364205
                                    ],
                                    [
                                    39.2480699,
                                    -6.79371634
                                    ],
                                    [
                                    39.24807815,
                                    -6.79377619
                                    ],
                                    [
                                    39.24812149,
                                    -6.79385255
                                    ],
                                    [
                                    39.24815864,
                                    -6.79395368
                                    ],
                                    [
                                    39.24818547,
                                    -6.79399702
                                    ],
                                    [
                                    39.24823087,
                                    -6.79405068
                                    ],
                                    [
                                    39.24836709,
                                    -6.79413942
                                    ],
                                    [
                                    39.24854457,
                                    -6.79424674
                                    ],
                                    [
                                    39.24855513,
                                    -6.79434013
                                    ],
                                    [
                                    39.24855819,
                                    -6.79437078
                                    ],
                                    [
                                    39.24857058,
                                    -6.79449466
                                    ],
                                    [
                                    39.24861951,
                                    -6.79457708
                                    ],
                                    [
                                    39.24883329,
                                    -6.79475737
                                    ],
                                    [
                                    39.24894404,
                                    -6.79482176
                                    ],
                                    [
                                    39.24899555,
                                    -6.794881
                                    ],
                                    [
                                    39.24904964,
                                    -6.79508704
                                    ],
                                    [
                                    39.24905347,
                                    -6.79524308
                                    ],
                                    [
                                    39.24906831,
                                    -6.79529947
                                    ],
                                    [
                                    39.24917219,
                                    -6.79552207
                                    ],
                                    [
                                    39.24930871,
                                    -6.79575653
                                    ],
                                    [
                                    39.24940665,
                                    -6.795899
                                    ],
                                    [
                                    39.24955505,
                                    -6.79609488
                                    ],
                                    [
                                    39.2497722,
                                    -6.79627347
                                    ],
                                    [
                                    39.24981745,
                                    -6.7963323
                                    ],
                                    [
                                    39.24986949,
                                    -6.79638434
                                    ],
                                    [
                                    39.24989664,
                                    -6.79651331
                                    ],
                                    [
                                    39.2499024,
                                    -6.7966742
                                    ],
                                    [
                                    39.24983948,
                                    -6.79688886
                                    ],
                                    [
                                    39.24977286,
                                    -6.7970184
                                    ],
                                    [
                                    39.24975436,
                                    -6.79718495
                                    ],
                                    [
                                    39.24983834,
                                    -6.79733835
                                    ],
                                    [
                                    39.24990393,
                                    -6.79746655
                                    ],
                                    [
                                    39.24999338,
                                    -6.79762755
                                    ],
                                    [
                                    39.25000828,
                                    -6.79774383
                                    ],
                                    [
                                    39.25007686,
                                    -6.79790185
                                    ],
                                    [
                                    39.25013947,
                                    -6.79801216
                                    ],
                                    [
                                    39.25018717,
                                    -6.79808968
                                    ],
                                    [
                                    39.25023113,
                                    -6.79814781
                                    ],
                                    [
                                    39.25022482,
                                    -6.79815325
                                    ],
                                    [
                                    39.2501035,
                                    -6.79821198
                                    ],
                                    [
                                    39.25006096,
                                    -6.79821198
                                    ],
                                    [
                                    39.25000425,
                                    -6.79822333
                                    ],
                                    [
                                    39.24994186,
                                    -6.79824317
                                    ],
                                    [
                                    39.24990784,
                                    -6.79829422
                                    ],
                                    [
                                    39.24983895,
                                    -6.7983135
                                    ],
                                    [
                                    39.24974275,
                                    -6.79820792
                                    ],
                                    [
                                    39.24962955,
                                    -6.79808091
                                    ],
                                    [
                                    39.24952462,
                                    -6.79795665
                                    ],
                                    [
                                    39.24950706,
                                    -6.7979386
                                    ],
                                    [
                                    39.2494438,
                                    -6.79787355
                                    ],
                                    [
                                    39.24940005,
                                    -6.79782218
                                    ],
                                    [
                                    39.24934868,
                                    -6.7977613
                                    ],
                                    [
                                    39.24930111,
                                    -6.79769281
                                    ],
                                    [
                                    39.24925165,
                                    -6.79764525
                                    ],
                                    [
                                    39.24918316,
                                    -6.79757295
                                    ],
                                    [
                                    39.2491337,
                                    -6.79751017
                                    ],
                                    [
                                    39.24909755,
                                    -6.79743597
                                    ],
                                    [
                                    39.24905522,
                                    -6.79740165
                                    ],
                                    [
                                    39.24896962,
                                    -6.79736576
                                    ],
                                    [
                                    39.24888678,
                                    -6.79732158
                                    ],
                                    [
                                    39.24882328,
                                    -6.79731606
                                    ],
                                    [
                                    39.24871007,
                                    -6.79734367
                                    ],
                                    [
                                    39.24857201,
                                    -6.79736576
                                    ],
                                    [
                                    39.24840634,
                                    -6.79739061
                                    ],
                                    [
                                    39.24823608,
                                    -6.79739839
                                    ],
                                    [
                                    39.24822515,
                                    -6.79740224
                                    ]
                                ]
                            ],
                            
                        }
                        
                    //     },
                    //     "properties": {
                    //         "impact": {
                    //             "2.0": 697000,
                    //             "5.0": 1990000,
                    //             "10.0": 3156000,
                    //             "25.0": 4633000,
                    //             "50.0": 5930000,
                    //             "100.0": 6995000,
                    //             "200.0": 8022000,
                    //             "1000.0": 10403000
                    //         },
                    //         "indicator": {
                    //             "category": "overall",
                    //             "category_tz": "ujumla",
                    //             "disaggregation": "Total",
                    //             "short_name": "asset_damage",
                    //             "short_name_tz": "uharibifu_wa_mali",
                    //             "unit": "USD PPP"
                    //         },
                    //         "spatial": {
                    //             "mun_name": "Kinondoni",
                    //             "short_name": "Tandale",
                    //             "sum_value": 697000,
                    //             "unit": "ward",
                    //             "unit_sw": "kata ya"
                    //         }
                    //     }
                    }
                });

                map.addLayer({
                    'id': 'riskDataLayer',
                    'type': 'fill',
                    'source': 'riskData', // reference the data source
                    'layout': {},
                    'paint': {
                    'fill-color': '#0080ff', // blue color fill
                    'fill-opacity': 0.5
                    }
                });

                map.addLayer({
                    'id': 'outline',
                    'type': 'line',
                    'source': 'riskData',
                    'layout': {},
                    'paint': {
                    'line-color': '#000',
                    'line-width': 3
                    }
                });
                //     map.addLayer({
                //         id: 'terrain-data',
                //         type: 'line',
                //         source: {
                //             type: 'vector',
                //             url: 'mapbox://mapbox.mapbox-terrain-v2'
                //         },
                //         'source-layer': 'contour'
                //     });

                // const marker = new mapboxgl.Marker() // initialize a new marker
                // .setLngLat([39.279, -6.818]) // Marker [lng, lat] coordinates
                // .addTo(map);

                const geocoder = new MapboxGeocoder({
                    // Initialize the geocoder
                    accessToken: mapboxgl.accessToken, // Set the access token
                    placeholder: 'Search for places in Dar-es-Salaam/Zanzibar',
                    mapboxgl: mapboxgl, // Set the mapbox-gl instance
                    marker: false, // Do not use the default marker style
                    bbox: [38.99663763143505, -7.183930839788829, 39.5641554189701, -6.023262920492812], // Boundary for Berkeley
                    proximity: {
                        longitude: 39.279,
                        latitude: -6.818
                    } // Coordinates of UC Berkeley
                });

                // Add the geocoder to the map
                map.addControl(geocoder);

                map.addControl(new mapboxgl.NavigationControl());
            });
        </script>
    </body>
</html>